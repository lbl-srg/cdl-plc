<?xml version="1.0" ?>
<project xmlns="http://www.plcopen.org/xml/tc6_0201" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xhtml="http://www.w3.org/1999/xhtml" xmlns:ns1="http://www.plcopen.org/xml/tc6_0201">
	<fileHeader companyName="Unknown" productName="Unnamed" productVersion="1" creationDateTime="2024-01-09T16:45:07"/>
	<contentHeader name="Unnamed" modificationDateTime="2024-01-23T14:31:54">
		<coordinateInfo>
			<fbd>
				<scaling x="0" y="0"/>
			</fbd>
			<ld>
				<scaling x="0" y="0"/>
			</ld>
			<sfc>
				<scaling x="0" y="0"/>
			</sfc>
		</coordinateInfo>
	</contentHeader>
	<types>
		<dataTypes/>
		<pous>
			<pou name="CustomPWithLimiter" pouType="program">
				<interface>
					<inputVars>
						<variable name="e">
							<type>
								<REAL/>
							</type>
						</variable>
						<variable name="yMax">
							<type>
								<REAL/>
							</type>
						</variable>
					</inputVars>
					<outputVars>
						<variable name="y">
							<type>
								<REAL/>
							</type>
						</variable>
					</outputVars>
					<localVars>
						<variable name="gain">
							<type>
								<derived name="Reals_MultiplyByParameter"/>
							</type>
						</variable>
						<variable name="minValue">
							<type>
								<derived name="Reals_Min"/>
							</type>
						</variable>
						<variable name="k">
							<type>
								<REAL/>
							</type>
							<initialValue>
								<simpleValue value="2.0"/>
							</initialValue>
						</variable>
					</localVars>
				</interface>
				<body>
					<FBD>
						<inVariable localId="1" executionOrderId="0" width="18" height="26" negated="false">
							<position x="0" y="160"/>
							<connectionPointOut>
								<relPosition x="18" y="13"/>
							</connectionPointOut>
							<expression>e</expression>
						</inVariable>
						<inVariable localId="5" executionOrderId="0" width="42" height="26" negated="false">
							<position x="0" y="0"/>
							<connectionPointOut>
								<relPosition x="42" y="13"/>
							</connectionPointOut>
							<expression>yMax</expression>
						</inVariable>
						<inVariable localId="6" executionOrderId="0" width="18" height="26" negated="false">
							<position x="282" y="217"/>
							<connectionPointOut>
								<relPosition x="18" y="13"/>
							</connectionPointOut>
							<expression>k</expression>
						</inVariable>
						<block localId="2" typeName="Reals_MultiplyByParameter" instanceName="gain" executionOrderId="0" width="210" height="60">
							
	
							<position x="320" y="180"/>
							
	
							<inputVariables>
								
		
								<variable formalParameter="u">
									<connectionPointIn>
										<relPosition x="0" y="30"/>
										<connection refLocalId="1">
											<position x="320" y="210"/>
											<position x="160" y="210"/>
											<position x="160" y="160"/>
											<position x="0" y="160"/>
										</connection>
									</connectionPointIn>
								</variable>
								<variable formalParameter="k">
									<connectionPointIn>
										<relPosition x="0" y="50"/>
										<connection refLocalId="6">
											<position x="320" y="230"/>
											<position x="310" y="230"/>
											<position x="310" y="230"/>
											<position x="300" y="230"/>
										</connection>
									</connectionPointIn>
								</variable>
								
	
							</inputVariables>
							
	
							<inOutVariables/>
							
	
							<outputVariables>
								
		
								<variable formalParameter="y">
									<connectionPointOut>
										<relPosition x="210" y="30"/>
									</connectionPointOut>
								</variable>
								
	
							</outputVariables>
							

						</block>
						<block localId="3" typeName="Reals_Min" instanceName="minValue" executionOrderId="0" width="82" height="60">
							
	
							<position x="640" y="100"/>
							
	
							<inputVariables>
								
		
								<variable formalParameter="u2">
									<connectionPointIn>
										<relPosition x="0" y="30"/>
										<connection refLocalId="2" formalParameter="y">
											<position x="640" y="130"/>
											<position x="585" y="130"/>
											<position x="585" y="210"/>
											<position x="530" y="210"/>
										</connection>
									</connectionPointIn>
								</variable>
								<variable formalParameter="u1">
									<connectionPointIn>
										<relPosition x="0" y="50"/>
										<connection refLocalId="5">
											<position x="640" y="150"/>
											<position x="320" y="150"/>
											<position x="320" y="0"/>
											<position x="0" y="0"/>
										</connection>
									</connectionPointIn>
								</variable>
								
	
							</inputVariables>
							
	
							<inOutVariables/>
							
	
							<outputVariables>
								
		
								<variable formalParameter="y">
									<connectionPointOut>
										<relPosition x="82" y="30"/>
									</connectionPointOut>
								</variable>
								
	
							</outputVariables>
							

						</block>
						<outVariable localId="4" executionOrderId="0" width="18" height="26" negated="false">
							<position x="960" y="100"/>
							<connectionPointIn>
								<relPosition x="0" y="22"/>
								<connection refLocalId="3" formalParameter="y">
									<position x="960" y="113"/>
									<position x="841" y="113"/>
									<position x="841" y="130"/>
									<position x="722" y="130"/>
								</connection>
							</connectionPointIn>
							<expression>y</expression>
						</outVariable>
					</FBD>
				</body>
			</pou>
			<pou name="Reals_MultiplyByParameter" pouType="functionBlock">
				<interface>
					<inputVars>
						<variable name="u">
							<type>
								<REAL/>
							</type>
						</variable>
						<variable name="k">
							<type>
								<REAL/>
							</type>
						</variable>
					</inputVars>
					<outputVars>
						<variable name="y">
							<type>
								<REAL/>
							</type>
						</variable>
					</outputVars>
				</interface>
				<body>
					<ST>
						<xhtml:p><![CDATA[y := k * u;]]></xhtml:p>
					</ST>
				</body>
			</pou>
			<pou name="Reals_Min" pouType="functionBlock">
				<interface>
					<inputVars>
						<variable name="u1">
							<type>
								<REAL/>
							</type>
						</variable>
						<variable name="u2">
							<type>
								<REAL/>
							</type>
						</variable>
					</inputVars>
					<outputVars>
						<variable name="y">
							<type>
								<REAL/>
							</type>
						</variable>
					</outputVars>
				</interface>
				<body>
					<ST>
						<xhtml:p><![CDATA[y := min(u1, u2);]]></xhtml:p>
					</ST>
				</body>
			</pou>
		</pous>
	</types>
	<instances>
		<configurations>
			<configuration name="config">
				<resource name="resource1">
					<task name="task0" priority="0" interval="T#20ms">
						<pouInstance name="instance0" typeName="CustomPWithLimiter"/>
					</task>
				</resource>
			</configuration>
		</configurations>
	</instances>
</project>
